<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ds-snhl: ds-snhl</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ds-snhl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ds-snhl </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This repository contains code for analysis of auditory EEG data as described in the paper:</p>
<p>Fuglsang,S., Marcher-Rorsted, J Dau, T. and Hjortkjaer, J (2020). <em>Effects of sensorineural hearing loss on cortical synchronization to competing speech during selective attention</em>. Journal of Neuroscience</p>
<p>The data was collected by Jonatan Marcher-Rorsted at the Technical University of Denmark in the Hearing Systems Group in 2018. The data are availble at: <a href="https://doi.org/10.5072/zenodo.463871">https://doi.org/10.5072/zenodo.463871</a></p>
<p>Please see <code><a class="el" href="examplescript1_8m.html" title="An example script that demonstrates how one can preprocess audio/EEG data and perform a stimulus-resp...">src/examples/examplescript1.m</a></code> and <code><a class="el" href="examplescript2_8m.html" title="An example script that demonstrates how one can preprocess audio/EEG data and perform a stimulus-reco...">src/examples/examplescript2.m</a></code> which demonstrates how to define a preprocessing pipeline, preprocess audio/EEG data and subsequently perform a stimulus-response analysis.</p>
<p>To replicate the results from the study, define a variable <code>bidsdir</code> that points to the BIDs data directory and a variable <code>sdir</code> that points to the directory in which the derived data (e.g. audio envelopes) will be stored and execute <code>for subid = 1 : 44; runall(subid,bidsdir,sdir); end</code>. Once this has been done, use <code>export_summaries(sdir,bidsdir)</code> to export figures and data summaries.</p>
<h1>Table of Contents</h1>
<ul>
<li><a href="#Repo">What is contained in this repository?</a></li>
<li><a href="#Requirements">Requirements</a></li>
<li><a href="#BIDS">BIDs data</a></li>
<li><a href="#addfigure">Additional figures</a></li>
<li><a href="#ack">Acknowledgments</a></li>
</ul>
<h1><a class="anchor" id="Repo"></a>What is contained in this repository?</h1>
<p>To get an overview please see <em>docs&gt;html&gt;index.html</em> or <em>docs&gt;html&gt;files.html</em>. The overall structure of this repository is as follows:</p>
<div class="fragment"><div class="line">LICENSE</div><div class="line">README</div><div class="line">|__ tools                                      # General tools used for the analysis</div><div class="line">            |__ _ext                           # External tools used for the analysis</div><div class="line">                |__ AM_toolbox </div><div class="line">                |__ gramm-master </div><div class="line">                |__ ltfat</div><div class="line">                |__ NoiseTools</div><div class="line">            |__ private                       </div><div class="line">|__ docs                                       # Source code documentation</div><div class="line">|__ reports                                    # Data summaries in the form of figures and data tables</div><div class="line">            |__ paper                           </div><div class="line">                   |__ export_summaries.m      # Script used for exporting data summaries and figures</div><div class="line">                   |__ fig1                    </div><div class="line">                   |__ fig2                    </div><div class="line">                   |__ fig3                    </div><div class="line">                   |__ fig4                    </div><div class="line">                   |__ fig5                    </div><div class="line">                   |__ func                    # Functions used for extracting the data summaries and exporting figures</div><div class="line">                   |__ additional              # Additional figures (reconstruction accuracies, classification accuracies, ERPs)    </div><div class="line">            |__ review                         # Folder containing additional figures shared with the reviewers </div><div class="line">                   |__ review01 </div><div class="line">            |__ dataset                        # This folder contains figures that describes the dataset </div><div class="line"></div><div class="line">|__ src                           </div><div class="line">            |__ features                       # General functions that can be used to derive audio and EEG features (later used for stimulus-response analysis)</div><div class="line">                   |__ build_aud_features.m    # Function used for extracting audio features</div><div class="line">                   |__ build_eeg_features.m    # Function used for extracting EEG features</div><div class="line">                   |__ func                   </div><div class="line">                       |__ modules            </div><div class="line">                           |__ aud             # Individual subprocessing modules for audio processing</div><div class="line">                           |__ eeg             # Individual subprocessing modules for EEG processing</div><div class="line">            |__ paper                          # Scripts used for the analysis presented in the manuscript</div><div class="line">                   |__ private                </div><div class="line">                   |__ control       </div><div class="line">            |__ examples                       # Scripts that illustrates ways of processing the data (either with- or without functions distributed in this repository)</div></div><!-- fragment --><h1><a class="anchor" id="Requirements"></a>Requirements</h1>
<ul>
<li>Matlab 9.4.0.813654 (R2018a) (see Matlab version information below)</li>
<li>FieldTrip, revision 20190207</li>
<li>NoiseTools, revision 24-Mar-2019</li>
<li>R version 3.6.0 (2019-04-26)</li>
<li>LTFAT version 2.2.0 (distributed here)</li>
<li>AM Toolbox version 0.9.7 (distributed here)</li>
<li>Gramm Toolbox <a href="https://doi.org/10.21105/joss.00568">DOI</a> (distributed here)</li>
</ul>
<div class="fragment"><div class="line">-----------------------------------------------------------------------------------------------------</div><div class="line">MATLAB Version: 9.4.0.813654 (R2018a)</div><div class="line">MATLAB License Number: 51651</div><div class="line">Operating System: Linux 4.4.0-151-generic #178-Ubuntu SMP Tue Jun 11 08:30:22 UTC 2019 x86_64</div><div class="line">Java Version: Java 1.8.0_144-b01 with Oracle Corporation Java HotSpot(TM) 64-Bit Server VM mixed mode</div><div class="line">-----------------------------------------------------------------------------------------------------</div><div class="line">MATLAB                                                Version 9.4         (R2018a)                </div><div class="line">Simulink                                              Version 9.1         (R2018a)                </div><div class="line">DSP System Toolbox                                    Version 9.6         (R2018a)                            </div><div class="line">Statistics and Machine Learning Toolbox               Version 11.3        (R2018a)                </div></div><!-- fragment --><h1><a class="anchor" id="BIDS"></a>BIDs data</h1>
<p>All data are publicly available and described in more details at <a href="https://doi.org/10.5072/zenodo.463871">https://doi.org/10.5072/zenodo.463871</a>. The data directory is organized according to the BIDs format:</p>
<div class="fragment"><div class="line">README</div><div class="line">dataset_description.json </div><div class="line">participants.tsv </div><div class="line">participants.json</div><div class="line">task-selectiveattention_events.json</div><div class="line">task-tonestimuli_events.json</div><div class="line">task-rest_events.json</div><div class="line">sub-001</div><div class="line">    |__ sub001_scans.tsv</div><div class="line">    |__ eeg </div><div class="line">          |__ sub-001_task-rest_channels.tsv </div><div class="line">          |__ sub-001_task-rest_channels.json </div><div class="line">          |__ sub-001_task-rest_eeg.bdf </div><div class="line">          |__ sub-001_task-rest_eeg.json </div><div class="line">          |__ sub-001_task-rest_events.tsv </div><div class="line">          |__ sub-001_task-selectiveattention_channels.tsv </div><div class="line">          |__ sub-001_task-selectiveattention_channels.json </div><div class="line">          |__ sub-001_task-selectiveattention_eeg.bdf </div><div class="line">          |__ sub-001_task-selectiveattention_eeg.json </div><div class="line">          |__ sub-001_task-selectiveattention_events.tsv </div><div class="line">          |__ sub-001_task-tonestimuli_channels.tsv </div><div class="line">          |__ sub-001_task-tonestimuli_channels.json </div><div class="line">          |__ sub-001_task-tonestimuli_eeg.bdf </div><div class="line">          |__ sub-001_task-tonestimuli_eeg.json </div><div class="line">          |__ sub-001_task-tonestimuli_events.tsv </div><div class="line">sub-002</div><div class="line">sub-003</div><div class="line">...</div><div class="line">sub-048</div><div class="line">stimuli</div><div class="line">    |__ sub001 </div><div class="line">          |__ target</div><div class="line">            |__ t001.wav</div><div class="line">            |__ t001woa.wav</div><div class="line">            |__ t001woacontrol.wav</div><div class="line">            |__ t002.wav</div><div class="line">            |__ t002woa.wav</div><div class="line">            |__ t002woacontrol.wav</div><div class="line">            |__ t003.wav</div><div class="line">            |__ t003woa.wav</div><div class="line">            |__ t003woacontrol.wav</div><div class="line">            |__ t004.wav</div><div class="line">            |__ t004woa.wav</div><div class="line">            |__ t004woacontrol.wav</div><div class="line">            ...</div><div class="line">            |__ t048.wav</div><div class="line">            |__ t048woa.wav</div><div class="line">            |__ t048woacontrol.wav</div><div class="line">          |__ masker</div><div class="line">            |__ m004.wav</div><div class="line">            |__ m004woa.wav</div><div class="line">            |__ m004woacontrol.wav</div><div class="line">            |__ m006.wav</div><div class="line">            |__ m006woa.wav</div><div class="line">            |__ m006woacontrol.wav</div><div class="line">            |__ m007.wav</div><div class="line">            |__ m007woa.wav</div><div class="line">            |__ m007woacontrol.wav</div><div class="line">            |__ m008.wav</div><div class="line">            |__ m008woa.wav</div><div class="line">            |__ m008woacontrol.wav</div><div class="line">            ...</div><div class="line">    |__ sub002 </div><div class="line">    |__ sub003 </div><div class="line">    ...</div><div class="line">    |__ sub048 </div><div class="line">derivatives</div></div><!-- fragment --><p>Due to a break during the selective attention experiment, sub-024 has data organized in the following way:</p>
<div class="fragment"><div class="line">sub-024</div><div class="line">    |__ sub024_scans.tsv</div><div class="line">    |__ eeg </div><div class="line">          |__ sub-024_task-rest_channels.tsv </div><div class="line">          |__ sub-024_task-rest_channels.json </div><div class="line">          |__ sub-024_task-rest_eeg.bdf </div><div class="line">          |__ sub-024_task-rest_eeg.json </div><div class="line">          |__ sub-024_task-rest_events.tsv </div><div class="line">          |__ sub-024_task-selectiveattention_channels.tsv </div><div class="line">          |__ sub-024_task-selectiveattention_channels.json </div><div class="line">          |__ sub-024_task-selectiveattention_eeg.bdf </div><div class="line">          |__ sub-024_task-selectiveattention_eeg.json </div><div class="line">          |__ sub-024_task-selectiveattention_events.tsv </div><div class="line">          |__ sub-024_task-selectiveattention_run-2_channels.tsv </div><div class="line">          |__ sub-024_task-selectiveattention_run-2_channels.json </div><div class="line">          |__ sub-024_task-selectiveattention_run-2_eeg.bdf </div><div class="line">          |__ sub-024_task-selectiveattention_run-2_eeg.json </div><div class="line">          |__ sub-024_task-selectiveattention_run-2_events.tsv </div><div class="line">          |__ sub-024_task-tonestimuli_channels.tsv </div><div class="line">          |__ sub-024_task-tonestimuli_channels.json </div><div class="line">          |__ sub-024_task-tonestimuli_eeg.bdf </div><div class="line">          |__ sub-024_task-tonestimuli_eeg.json </div><div class="line">          |__ sub-024_task-tonestimuli_events.tsv </div></div><!-- fragment --><h1><a class="anchor" id="addfigure"></a>Additional figures</h1>
<p>Additional figures can be found in '<em>reports&gt;paper&gt;additional</em>', '<em>reports&gt;dataset</em>' and '<em>reports&gt;review&gt;review01</em>'. The figures found in '<em>reports&gt;paper&gt;additional</em>' are also shown below:</p>
<h2>Fig S1 </h2>
<p><b>Left</b> Classification accuracies as a function of duration of decoding segments. Results have here been obtained with stimulus reconstruction models trained on single-talker data and evaluated on two-talker data. The spatial denoising filters were in this case optimized based on single-talker data. Decoding segments with durations of 1 s, 3 s, 5 s, 7 s, 10 s, 15 s, 20 s and 30 s (taking into account the 0.5 s long kernel of the stimulus reconstruction models) were considered. The decoding segments were non-overlapping, and each decoding segment was shifted by the decoding segment duration plus additional 5 s long time shifts. Data reflect group mean averages and standard deviations. Note that the errorbars for each group at a given duration of decoding segments have been shifted by 0.2 s around its actual decoding segment duration for visualization purposes. Dashed line shows chance level when assumed to follow a binomial distribution.</p>
<p><b>Right</b> The ability to reconstruct envelopes of attended and unattended speech streams from EEG activity in the different listening conditions. Model performance was assessed by nested cross-validation procedures. Reconstruction accuracies reflect Pearson's correlation coefficient between neural reconstruction and target envelope over trials not used for model fitting. Points reflect averaged data for each individual subject. Errorbars represent s.e.m. Bar height reflect group-mean average. The estimated noise floor is here highlighted with a dashed line.</p>
<p><br />
 <br />
 <img src="/reports/paper/additional/figure-classification_accuracy_time.png" height="300" alt="" class="inline"/>
 <img src="/reports/paper/additional/figure-reconstruction_accuracy.png" height="300" alt="" class="inline"/>
 <br />
 <br />
</p>
<h2>Fig S2 </h2>
<p>Cortical event-related potentials (ERPs) to 1000 Hz ramped tones presented with jittered inter-onset intervals. First and second panel (from left): Individual traces of ERP data averaged over the same fronto-central electrode cluster that was used for the entrainment analysis. Thin lines reflect data from individual subjects. Thick lines reflect group-mean averages. Third panel: Mean amplitude of N1 ERPs averaged over a time interval from 75 ms to 130 ms. Errorbars show s.e.m. across listeners. Fourth (right) panel: Group-mean topographies of mean N1 amplitude.</p>
<p><br />
 <br />
 <img src="/reports/paper/additional/figure-erp.png" height="300" alt="" class="inline"/>
 <br />
 <br />
</p>
<h1><a class="anchor" id="ack"></a>Acknowledgments</h1>
<p>This work was supported by the EU H2020-ICT grant number 644732 (COCOHA: Cognitive Control of a Hearing Aid) and by the Novo Nordisk Foundation synergy grant NNF17OC0027872 (UHeal). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
